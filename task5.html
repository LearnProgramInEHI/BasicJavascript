<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>IFE JavaScript Task 04</title>
        <style>
            p{
                display: inline-block;
                background-color: red;
                padding:12px;
                width:12px;
                margin-right:10px;
            }
        </style>
    </head>
    <body>
        <div>
            <input type='number' id='textInput' max='100' min='10'>
            <button id='leftInput'>左侧入</button>
            <button id='leftOutput'>左侧出</button>
            <button id='rightInput'>右侧入</button>
            <button id='rightOutput'>右侧出</button>
            <button id='sort'>排序</button>            
        </div>
        <div id='display'></div>
        <script type="text/javascript">   
             
            var display=document.getElementById('display');
            var count=[];
            function leftInput()
            {
                var textInput=document.getElementById('textInput').value;
                var p=document.createElement('p');
                if (count.length<60)
                {
                    if(textInput<10 ||textInput>100)
                    {
                        alert("请输入10～100以内的数");
                    }
                    else{ 
                        count.push(textInput);   
                        for(var i=0;i<count.length;i++)
                        {                                                         
                        
                        p.style.height = count[i]+'px';
                        display.insertBefore(p,display.firstElementChild);     
                        }
                    }
                }
                else
                {
                    alert('输入数值过多')
                }
            }
            function leftOutput()
            {
                display.removeChild(display.firstElementChild);
               // alert(document.getElementById('textInput').value);
            }
            function rightInput()
            {
                var textInput=document.getElementById('textInput').value; 
                var p=document.createElement('p');                
                if(count.length<60)
                {
                    if(textInput<10||textInput>100)
                    {
                        alert("请输入10～100以内的数");
                    }
                    else
                    {   
                        count.push(textInput); 
                        for(var i=0;i<count.length;i++)
                        {
                            p.style.height = count[i]+'px';
                            display.appendChild(p);
                        }
                    }
                }
                else
                {
                    alert("输入数值过多")
                }             
            }
            function rightOutput()
            {
                display.removeChild(display.lastElementChild);  
                //alert(document.getElementById('textInput').value);              
            }
            function del()
            {
                var t=window.event.target;
                display.removeChild(t);
            }
            function mysort()
            {
                // var max=0;
                // for(var i=0;i<count.length;i++)
                // {
                //     for(var j=i+1;j<count.length;j++)
                //     {
                //         if(count[i]>count[j]){
                //             max=count[i];
                //             count[i]=count[j];
                //             count[j]=max;
                //             display.                        
                //         }
                //     }
                // }
                var p = document.querySelectorAll('p');   
                for(var i=0;i<p.length;i++)
                {
                    for(var j=i+1;j<p.length;j++)
                    {
                        if(parseInt(p[i].style.height)>parseInt(p[j].style.height))
                        //if(count[i]>count[j])(为什么不能这样写)
                        {
                        display.insertBefore(p[j],p[i]);
                        }
                    }
                }
            }
            function execute()
            {
                var btnLeftInput=document.getElementById('leftInput');
                var btnLeftOutput=document.getElementById('leftOutput');
                var btnRightInput=document.getElementById('rightInput');
                var btnRightOutput=document.getElementById('rightOutput');  
                var delete1=document.getElementById('display');
                var sort2=document.getElementById('sort');

                btnLeftInput.onclick=function(){leftInput();}
                btnLeftOutput.onclick=function(){leftOutput();}
                btnRightInput.onclick=function(){rightInput();}
                btnRightOutput.onclick=function(){rightOutput();}     
                delete1.onclick=function(){del();}       
                sort2.onclick=function(){mysort();}
            }
            execute();
        </script>        
    </body>
</html>